
<app-page-title></app-page-title>

<div class="container">
    <div class="cart-details">
      <h2 class="Cart-title">Shopping Cart</h2>
      <table class="table table-bordered table-hover">
        <thead class="table-dark">
          <tr style="text-align: center;">
            <th>Product</th>
            <th class="th-special">Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th class="sp-sub">Subtotal</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody id="cart-items">
          <tr *ngFor="let product of cart">
            <td><img [src]="product.image" [alt]="product.name" style="width: 50px; height: 50px;"></td>
            <td class="product-name">{{ product.name }}</td>
            <td>${{ product.price.toFixed(2) }}</td>
            <td class="input-pro">
              <input class="num-product" type="number" [value]="product.quantity" min="1" [attr.data-product-id]="product.id">
            </td>
            <td class="sp-sub">${{ (product.price * product.quantity!).toFixed(2) }}</td>
            <td class="rm-cart">
              <button class="remove-item" (click)="removeCartItem(product.id)">Remove</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="cart-actions">
        <div class="copon-div">
          <input type="text" id="coupon-code" placeholder="Coupon Code">
          <button id="apply-coupon">Apply Coupon</button>
        </div>
        <button id="update-cart" (click)="updateCart()">Update Cart</button>
      </div>
      <div class="cart-totals">
        <p class="total-p">Cart Totals</p>
        <table class="table table-bordered">
          <tbody>
            <tr>
              <td class="sp-p">Subtotal :</td>
              <td><span id="total-price">{{ totalPrice.toFixed(2) }}</span>$</td>
            </tr>
          </tbody>
        </table>
        <a class="btn-checkout" id="checkout" routerLink="/checkout">Proceed to Checkout</a>
      </div>
    </div>
  </div>
  